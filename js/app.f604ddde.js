(function(e){function t(t){for(var a,i,u=t[0],c=t[1],s=t[2],p=0,d=[];p<u.length;p++)i=u[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,u=1;u<r.length;u++){var c=r[u];0!==n[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/calculator-vue/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0916":function(e,t,r){e.exports={calculator:"calculator_calculator_2KTSX",calculator__header:"calculator_calculator__header_1aBWx",calculator__buttons:"calculator_calculator__buttons_3qTJh"}},"43c9":function(e,t,r){},"6dc4":function(e,t,r){e.exports={button:"button_button_lmpwR",buttonOperator:"button_buttonOperator_3EwX9",buttonZero:"button_buttonZero_218vh"}},"8ecf":function(e,t,r){e.exports={loader:"loader_loader_2ZO_g"}},9878:function(e,t,r){e.exports={display:"display_display_3ad00",display__buffer:"display_display__buffer_1ajnP",display__placeholder:"display_display__placeholder_2r-5Y",display__result:"display_display__result_2w2On"}},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("d4ec"),o=r("bee2"),i=r("262e"),u=r("2caf"),c=r("9ab4"),s=r("60a3"),l=(r("caad"),r("d81d"),r("2532"),r("0916")),p=r.n(l),d=r("6dc4"),f=r.n(d),b=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=this,t=arguments[0];return t("button",{class:this.classNames,on:{click:function(){return e.doAction(e.button.value)}}},[this.button.value])}},{key:"classNames",get:function(){return[f.a.button,0===this.button.value?f.a.buttonZero:"",this.button.operator?f.a.buttonOperator:""]}}]),r}(s["c"]);Object(c["a"])([Object(s["b"])()],b.prototype,"button",void 0),Object(c["a"])([Object(s["b"])()],b.prototype,"doAction",void 0),b=Object(c["a"])([s["a"]],b);var v=b,y=r("8ecf"),h=r.n(y),O=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.loading}],class:h.a.loader},["Loading..."])}}]),r}(s["c"]);Object(c["a"])([Object(s["b"])()],O.prototype,"loading",void 0),O=Object(c["a"])([s["a"]],O);var _=O,g=(r("a15b"),r("ac1f"),r("1276"),r("9878")),j=r.n(g),m=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:j.a.display},[e("div",{class:j.a.display__buffer},[this.reverseString||e("span",{class:j.a.display__placeholder},["Ввод"])]),e("div",{class:j.a.display__result},["= ",this.display.result])])}},{key:"reverseString",get:function(){return this.display.buffer.split(" ").reverse().join(" ")}}]),r}(s["c"]);Object(c["a"])([Object(s["b"])()],m.prototype,"display",void 0),m=Object(c["a"])([s["a"]],m);var w=m,k=r("d80e"),S=r.n(k),D=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.isShow}],class:S.a.error},[this.message])}}]),r}(s["c"]);Object(c["a"])([Object(s["b"])()],D.prototype,"message",void 0),Object(c["a"])([Object(s["b"])()],D.prototype,"isShow",void 0),D=Object(c["a"])([s["a"]],D);var x=D,R=[{value:7,operator:!1},{value:8,operator:!1},{value:9,operator:!1},{value:"C",operator:!0},{value:4,operator:!1},{value:5,operator:!1},{value:6,operator:!1},{value:"-",operator:!0},{value:1,operator:!1},{value:2,operator:!1},{value:3,operator:!1},{value:"+",operator:!0},{value:0,operator:!1},{value:"=",operator:!0}],T=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"doAction",value:function(e){var t=this.display.buffer,r=0!==t.length&&(3!==t.length||!t.includes(" "));"="===e?r&&this.$store.dispatch("fetchResult",t):this.$store.commit("DO_ACTION",e)}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:p.a.calculator},[t(x,{attrs:{message:this.errorMessage}}),t(_,{attrs:{loading:this.isLoading}}),t("div",{class:p.a.calculator__header},[t(w,{attrs:{display:this.display}})]),t("div",{class:p.a.calculator__buttons},[R.map((function(r){return t(v,{attrs:{doAction:e.doAction.bind(e),button:r}})}))])])}},{key:"isLoading",get:function(){return this.$store.getters.loading}},{key:"display",get:function(){return this.$store.getters.display}},{key:"errorMessage",get:function(){return this.$store.getters.error}}]),r}(s["c"]);T=Object(c["a"])([s["a"]],T);var A=T,P=(r("43c9"),function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"render",value:function(){var e=arguments[0];return e("div",{attrs:{id:"app"}},[e(A)])}}]),r}(s["c"]));P=Object(c["a"])([s["a"]],P);var E=P,L=r("2f62"),M=(r("fb6a"),r("96cf"),r("1da1"));r("4160"),r("498a"),r("159b");function N(e){var t="+",r=0;return e.trim().split(" ").forEach((function(e){"+"===e||"-"===e?t=e:"+"===t?r+=+e:r-=+e})),r}function $(e){return"+"===e[e.length-2]||"-"===e[e.length-2]}a["a"].use(L["a"]);var I={state:{display:{buffer:"",result:0,resultDone:!1},error:{message:"",isShow:!1},loading:!1},mutations:{DO_ACTION:function(e,t){if("number"===typeof t)return e.display.resultDone?e.display.buffer=""+t:e.display.buffer+=t,void(e.display.resultDone=!1);if("C"===t)return e.display.buffer="",e.display.result=0,void(e.display.resultDone=!1);if("+"===t||"-"===t){e.display.resultDone=!1;var r=e.display.buffer.length-2;e.display.buffer=$(e.display.buffer)?e.display.buffer.slice(0,r)+"".concat(t," "):e.display.buffer+" ".concat(t," ")}},DO_RESULT:function(e,t){e.display.buffer=t>=0?""+t:" - "+Math.abs(t),e.display.resultDone=!0,e.display.result=t,e.loading=!1},DO_LOADING:function(e,t){e.loading=t},DO_ERROR:function(e,t){e.error.message=t.message,e.error.isShow=t.isShow}},getters:{loading:function(e){return e.loading},display:function(e){return e.display},error:function(e){return e.error}},actions:{fetchResult:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit("DO_LOADING",!0),r.prev=1,r.next=4,setTimeout((function(){var r=N(t);e.commit("DO_RESULT",r)}),2e3);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r["catch"](1),console.log(r.t0),e.commit("DO_ERROR",{message:"Попробуйте еще раз",isShow:!0}),r.next=12,setTimeout((function(){e.commit("DO_ERROR",{message:"",isShow:!1})}),2e3);case 12:case"end":return r.stop()}}),r,null,[[1,6]])})))()}}};a["a"].use(L["a"]);var C=new L["a"].Store({modules:{calculator:I}});a["a"].config.productionTip=!1,new a["a"]({store:C,render:function(e){return e(E)}}).$mount("#app")},d80e:function(e,t,r){e.exports={error:"error_error_3iIw8"}}});
//# sourceMappingURL=app.f604ddde.js.map